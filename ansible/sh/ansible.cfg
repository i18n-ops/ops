[defaults]
stdout_callback = yaml
# 设置并发数，增大任务数量 / Set concurrency to increase task count
forks = 64

# 启用fact缓存，减少重复收集 / Enable fact caching to reduce repeated gathering
gathering = smart
fact_caching = jsonfile
fact_caching_connection = /tmp/ansible_facts_cache

# 缓存过期时间（秒） / Fact cache expiration time (seconds)
fact_caching_timeout = 86400

# 禁用角色的默认gather_facts / Disable default gather_facts in roles
gather_facts = False

[ssh_connection]
# 启用SSH管道，加速命令执行 / Enable SSH pipelining to speed up execution
pipelining = True

# 设置SSH重试次数 / Set SSH retry count
retries = 9

# 压缩SSH连接，加快传输 / Compress SSH connection to speed up transfer
ssh_args = -C -o ControlMaster=auto -o ControlPersist=60s

# 控制连接路径和时间 / Control connection path and persist time
control_path = %(directory)s/ansible-ssh-%%h-%%p-%%r
control_persist = 60s
